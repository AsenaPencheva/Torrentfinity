@model Torrentfinity.Mvc.Models.TorrentViewModel
@using Resource = Torrentfinity.Mvc.Resources.TorrentsWidget

@using (Html.BeginForm("Create", "Torrents", FormMethod.Post,
                        new { enctype = "multipart/form-data" }))
{
    <div class="form-group">
        @Html.Label(Resource.Title)
        @{
            int counter = 0;
            foreach (var language in Model.LanguageContents)
            {
                @Html.Hidden("LanguageContents[" + counter + "].Language", language.Language, new { @class = "form-control" })
                <div>
                    @Html.Label(language.Language)
                    @Html.TextBox("LanguageContents[" + counter + "].Title", string.Empty, new { @class = "form-control" })
                </div>
                counter++;
            }
        }
    </div>
    <div class="form-group">
        @Html.Label(Resource.AdditionalInfo)
        @{
            counter = 0;
            foreach (var language in Model.LanguageContents)
            {
                <div>
                    @Html.Label(language.Language)
                    @Html.TextBox("LanguageContents[" + counter + "].AdditionalInfo", string.Empty, new { @class = "form-control" })
                </div>
                 counter++;
            }
        }
    </div>
    <div class="form-group">
        @Html.Label(Resource.Description)
        @{
            counter = 0;
            foreach (var language in Model.LanguageContents)
            {
                <div>
                    @Html.Label(language.Language)
                    @Html.TextBox("LanguageContents[" + counter + "].Description", string.Empty, new { @class = "form-control" })
                </div>
                 counter++;
            }
        }
    </div>
    <div class="form-group">
        @Html.Label(Resource.DownloadLink)
        @Html.TextBoxFor(m => m.DownloadLink, new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.Label(Resource.Genre)
        @Html.DropDownList("Genre", new SelectList(Model.Genres), Resource.SelectGenre, new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.Label(Resource.Image)
        @Html.TextBoxFor(m => m.Image, new { type = "file", @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.ValidationSummary()
        <button type="submit">@Resource.Create</button>
    </div>
}
